# Configurazione monitoraggio stabilità sistema Gestionale
# Best practice per ambiente enterprise-grade

# ========================================
# PARAMETRI MONITORAGGIO
# ========================================

# Intervallo tra controlli (in secondi)
CHECK_INTERVAL=300

# Soglie per alert
MAX_REBOOTS_PER_HOUR=3
MAX_CRASHES_PER_HOUR=5

# Soglie utilizzo risorse (percentuale)
MEMORY_THRESHOLD=80
CPU_THRESHOLD=80
DISK_THRESHOLD=80

# ========================================
# SERVIZI CRITICI DA MONITORARE
# ========================================

# Servizi systemd critici
CRITICAL_SERVICES=("postgresql" "gestionale-dev")

# Porte critiche da verificare
CRITICAL_PORTS=("3001:backend" "3000:frontend" "5432:postgresql")

# ========================================
# NOTIFICHE E ALERT
# ========================================

# Abilita notifiche email (richiede mail server configurato)
ENABLE_EMAIL_ALERTS=false
ADMIN_EMAIL="admin@example.com"

# Abilita notifiche desktop (richiede notifiche abilitate)
ENABLE_DESKTOP_NOTIFICATIONS=true

# Abilita log su syslog
ENABLE_SYSLOG=true

# ========================================
# RETENTION E ARCHIVIAZIONE
# ========================================

# Giorni di retention per log status
STATUS_LOG_RETENTION_DAYS=30

# Giorni di retention per log alert
ALERT_LOG_RETENTION_DAYS=90

# Compressione automatica log vecchi
AUTO_COMPRESS_LOGS=true

# ========================================
# AZIONI AUTOMATICHE
# ========================================

# Riavvio automatico servizi critici in caso di problemi
AUTO_RESTART_CRITICAL_SERVICES=true

# Riavvio automatico sistema in caso di troppi crash
AUTO_REBOOT_ON_CRASHES=false
MAX_CRASHES_BEFORE_REBOOT=10

# Backup automatico prima di azioni critiche
AUTO_BACKUP_BEFORE_ACTIONS=true

# ========================================
# DEBUG E TESTING
# ========================================

# Modalità debug (più verbose)
DEBUG_MODE=false

# Test mode (non esegue azioni reali)
TEST_MODE=false

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL="INFO"
